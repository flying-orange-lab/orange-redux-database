@if (selectedRegion) {
  <div class="region-content" [class.expanded]="isExpanded">
    @if (regionDatas.length > 1) {
      <div class="sub-condition-button-box">
        @for (region of regionDatas; track region) {
          <div
            class="sub-condition-button"
            (click)="selectRegion(region)"
            [class.selected-button]="region === selectedRegion"
          >
            {{ region.locationStatus }}
          </div>
        }
      </div>
    }

    <table class="wild-encounter-table">
      <thead>
        <tr class="wild-encounter-header">
          <th style="width: 6%"></th>
          <th style="width: 40%">이름</th>
          <th style="width: 20%">최소 Lv</th>
          <th style="width: 20%">최대 Lv</th>
          <th style="width: 20%">출현율</th>
        </tr>
        @for (areaData of selectedRegion.areaDatas; track $index) {
          <tr>
            <td colspan="5" class="area-header">{{ areaData.area }}</td>
          </tr>
          @for (encounter of areaData.encounters; track $index) {
            @let pokemonId = getPokemonId(encounter.name);
            <tr>
              <td class="caught-status-cell" [attr.data-value]="pokemonId">
                @if (pokemonCatchStatus && pokemonCatchStatus[pokemonId]) {
                  <svg
                    (click)="onCatchPokemon(encounter.name, false)"
                    width="12"
                    height="12"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22C17.523 22 22 17.523 22 12C22 6.477 17.523 2 12 2Z"
                      stroke="#000"
                      stroke-width="2"
                    />
                    <path d="M12 2L12 22" stroke="#000" stroke-width="2" />
                    <circle
                      cx="12"
                      cy="12"
                      r="4"
                      fill="#FFF"
                      stroke="#000"
                      stroke-width="2"
                    />
                  </svg>
                }
              </td>
              <td
                (click)="onCatchPokemon(encounter.name, true)"
                [innerHTML]="encounter.name | highlight: searchContext.value"
              >
                {{ encounter.name }}
                @if (encounter.extra) {
                  ({{ encounter.extra }})
                }
              </td>
              <td>{{ encounter.minLv }}</td>
              <td>{{ encounter.maxLv }}</td>
              <td>{{ encounter.rate }}%</td>
            </tr>
          }
        }
      </thead>
    </table>
  </div>
}
